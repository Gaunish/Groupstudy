{% extends 'layout2.html' %}

{% block title %}
    Create Topic
{% endblock %}

{% block style %}
        body
        {
            background: #DAE0E6;
        }

        a.carded
        {
            color:inherit;
            text-decoration:inherit;
        }
        #sideheader
        {
            color : white;
            font-size : 40px;
            text-align: center;
            padding-top: 15px;
            font-family: 'Arial';
            padding-bottom : 85px;
            margin-top : 40px;
        }

        #sidernav
        {
            background: #4d4d4d;
            min-height : 100vh;
            height : 100%;
        }

        li
        {
            color : white;
            font-size : 20px;
            text-align : center;
            height : 40px;
            padding-top : 5px;
            margin-bottom : 15px;
            border-radius : 5px;
        }

        li:hover
        {
            color : #4d4d4d;
            background : white;
        }

        #visiting
        {
            color : #0066cc;
            background : white;
            border-right : 6px solid #ffa64d;
        }

        a, a:hover
        {
            color: inherit;
            text-decoration: none;
            transition: all 0.3s;
        }

        .cardmid
        {
            width : 600px; 
            height : 250px; 
            margin-top : 40px;
            margin-left : 320px;    
        }


        .follow_btn
        {
            width : 70px;
            font-size : 12px;
            padding-top : 3.5px;
            padding-bottom : 3.5px;
            border-radius : 40px;
            margin-top : 5px;
        }

        .titled
        {
            font-weight : bold;
            font-size : 20px;
        }

        .img-icon
        {
            width:22px;
            height:22px;
            
        }
       
        .img-icon2
        {
            width:25px;
            height:25px;   
        }


        .post-info
        {
            font-size: 13.2px;
            color : gray;
            font-family: Noto Sans,Arial,sans-serif;
            padding-top : 5px;
            padding-left : 20px;
            margin-left : 2px;
        }

        .card-title2
        {
            margin-top : 2px;
        }

        .desc-body
        {
            overflow : hidden;
            -webkit-mask-image: linear-gradient(180deg,#000 60%,transparent);
            height: 70px;
            margin-top : 25px;
        }

        .carded-footer 
        {
            margin-top : 10px;
            color : #666666; 
            margin-left : 1px;
        }
{% endblock %}

{% block main %}
        <div class="row">
            <div class="col-2">
                <nav id="sidernav">
                    <div id="sideheader">
                        <h1>Community</h1>
                    </div>

                    <ul class="list-unstyled">
                        <li>
                            <a href="/create_comm" class="sidea">Create</a>
                        </li>

                        <li id="visiting">
                            <a href="/follow_comm" class="sidea">Following</a>
                        </li>

                         <li>
                            <a href="/created_comm" class="sidea">Created</a>
                        </li>
                    </ul>

                </nav>
            </div>
            <div class = "col-10">
            <div style = "margin-top : 100px;"></div>
            {%for row in rows%}
                    <a class = "carded" href = "{{url_for('dynamic_topic', topic_id = row[0])}}">
                    <div class = "card text-left cardmid">
                            <div class = "row">
                            <div class = "col-10">
                                    <div class = "post-info">
                                    <div style = "color:black"><b>{{row[1]}}</b></div>
                                    Posted by 
                                    {{row[6]}}
                                    </div>
                            </div>
                            <div class = "col-0.8">
                            <form action = "{{url_for('dynamic_topic', topic_id = row[0])}}" method="post">
                                {%if row[7] == True%}
                                <button class="btn btn-outline-primary follow_btn" type="submit">Disjoin</button> 
                                {%else%}
                                <button class="btn btn-primary follow_btn" type="submit">+ Join</button>  
                                {%endif%}
                            </form>
                            </div>
                            </div>
                                <div class="card-body">       
                                    <h3 class="card-title2">{{row[5]}}</h3>
                                    <div class = "desc-body">{{row[2]}}</div> 
                                    <div class = "carded-footer"> {{row[8]}} 
                                    {%if row[8] <= 1%} Member
                                    {%else%} Members {%endif%}
                                    </div>                      
                                </div>
                    </div>
                    </a>
                
            {%endfor%}
            <div style = "margin-bottom : 20px;">
            </div>
        </div>
{% endblock %}
